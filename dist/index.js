(()=>{"use strict";var t={143(t,e){var o,n,r,i,a,l,u,d,s,c,p;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentScriptType=e.SettingStorage=e.AppType=e.SettingItemSubType=e.SettingItemType=e.ToastType=e.ToolbarButtonLocation=e.isContextMenuItemLocation=e.MenuItemLocation=e.ModelType=e.ImportModuleOutputFormat=e.FileSystemItem=void 0,(p=e.FileSystemItem||(e.FileSystemItem={})).File="file",p.Directory="directory",(c=e.ImportModuleOutputFormat||(e.ImportModuleOutputFormat={})).Markdown="md",c.Html="html",(s=e.ModelType||(e.ModelType={}))[s.Note=1]="Note",s[s.Folder=2]="Folder",s[s.Setting=3]="Setting",s[s.Resource=4]="Resource",s[s.Tag=5]="Tag",s[s.NoteTag=6]="NoteTag",s[s.Search=7]="Search",s[s.Alarm=8]="Alarm",s[s.MasterKey=9]="MasterKey",s[s.ItemChange=10]="ItemChange",s[s.NoteResource=11]="NoteResource",s[s.ResourceLocalState=12]="ResourceLocalState",s[s.Revision=13]="Revision",s[s.Migration=14]="Migration",s[s.SmartFilter=15]="SmartFilter",s[s.Command=16]="Command",function(t){t.File="file",t.Edit="edit",t.View="view",t.Note="note",t.Tools="tools",t.Help="help",t.Context="context",t.NoteListContextMenu="noteListContextMenu",t.EditorContextMenu="editorContextMenu",t.FolderContextMenu="folderContextMenu",t.TagContextMenu="tagContextMenu"}(o=e.MenuItemLocation||(e.MenuItemLocation={})),e.isContextMenuItemLocation=function(t){return[o.Context,o.NoteListContextMenu,o.EditorContextMenu,o.FolderContextMenu,o.TagContextMenu].includes(t)},(d=e.ToolbarButtonLocation||(e.ToolbarButtonLocation={})).NoteToolbar="noteToolbar",d.EditorToolbar="editorToolbar",(u=e.ToastType||(e.ToastType={})).Info="info",u.Success="success",u.Error="error",(l=e.SettingItemType||(e.SettingItemType={}))[l.Int=1]="Int",l[l.String=2]="String",l[l.Bool=3]="Bool",l[l.Array=4]="Array",l[l.Object=5]="Object",l[l.Button=6]="Button",(a=e.SettingItemSubType||(e.SettingItemSubType={})).FilePathAndArgs="file_path_and_args",a.FilePath="file_path",a.DirectoryPath="directory_path",(i=e.AppType||(e.AppType={})).Desktop="desktop",i.Mobile="mobile",i.Cli="cli",(r=e.SettingStorage||(e.SettingStorage={}))[r.Database=1]="Database",r[r.File=2]="File",(n=e.ContentScriptType||(e.ContentScriptType={})).MarkdownItPlugin="markdownItPlugin",n.CodeMirrorPlugin="codeMirrorPlugin"},156(t,e,o){var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(r,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function l(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=o(998),i=o(143);r.default.plugins.register({onStart:function(){return n(this,void 0,void 0,function*(){yield r.default.settings.registerSection("newNoteToDefault",{label:"New Note to Default Folder",iconName:"fas fa-folder"}),yield r.default.settings.registerSettings({defaultFolderId:{value:"",type:i.SettingItemType.String,section:"newNoteToDefault",public:!0,label:"Default Folder ID",description:'The ID of the folder where new notes will be created. To find a folder ID, right-click on a notebook and select "Copy external link", then extract the ID from the URL.'},keyboardShortcut:{value:"Ctrl+O",type:i.SettingItemType.String,section:"newNoteToDefault",public:!0,label:"Keyboard Shortcut",description:'The keyboard shortcut to create a new note in the default folder. Use format like "Ctrl+O", "Ctrl+Shift+N", "CmdOrCtrl+Alt+N". Requires restart to take effect.'}}),yield r.default.commands.register({name:"newNoteToDefaultFolder",label:"New Note in Default Folder",execute:()=>n(this,void 0,void 0,function*(){const t=yield r.default.settings.value("defaultFolderId");if(!t){const t=r.default.views.dialogs,e=yield t.create("errorDialog");return yield t.setHtml(e,'\n\t\t\t\t\t\t<div style="padding: 20px; text-align: center;">\n\t\t\t\t\t\t\t<h2>No Default Folder Set</h2>\n\t\t\t\t\t\t\t<p>Please set a default folder ID in the plugin settings.</p>\n\t\t\t\t\t\t\t<p>Go to Tools > Options > New Note to Default Folder</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t'),void(yield t.open(e))}const e=new Date,o=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),i=String(e.getFullYear()).slice(-2);let a=e.getHours();const l=a>=12?"PM":"AM";a=a%12||12;const u=`New Note - ${o}/${n}/${i} ${a}:${String(e.getMinutes()).padStart(2,"0")} ${l}`,d=yield r.default.data.post(["notes"],null,{parent_id:t,title:u,body:""});yield r.default.commands.execute("openNote",d.id),yield r.default.commands.execute("focusElementNoteBody")})});const t=yield r.default.settings.value("keyboardShortcut");yield r.default.views.menuItems.create("newNoteToDefaultMenuItem","newNoteToDefaultFolder",i.MenuItemLocation.Tools,{accelerator:t})})}})},998(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=joplin}},e={};!function o(n){var r=e[n];if(void 0!==r)return r.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}(156)})();